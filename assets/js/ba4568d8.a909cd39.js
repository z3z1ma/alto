"use strict";(self.webpackChunkalto_docs=self.webpackChunkalto_docs||[]).push([[171],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>m});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=n.createContext({}),u=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=u(a),d=o,m=p["".concat(c,".").concat(d)]||p[d]||g[d]||r;return a?n.createElement(m,l(l({ref:t},s),{},{components:a})):n.createElement(m,l({ref:t},s))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:o,l[1]=i;for(var u=2;u<r;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4258:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var n=a(7462),o=(a(7294),a(3905));const r={sidebar_position:1},l="Catalog Purging",i={unversionedId:"tutorial-advanced/catalog-purging",id:"tutorial-advanced/catalog-purging",title:"Catalog Purging",description:"Alto will not automatically purge your base catalog. You must explicitly tell Alto to purge the catalog. This is done by running the alto clean catalog: command.",source:"@site/docs/tutorial-advanced/catalog-purging.md",sourceDirName:"tutorial-advanced",slug:"/tutorial-advanced/catalog-purging",permalink:"/alto/docs/tutorial-advanced/catalog-purging",draft:!1,editUrl:"https://github.com/z3z1ma/alto/tree/main/docs/docs/tutorial-advanced/catalog-purging.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1}},c={},u=[{value:"Purging All Catalogs",id:"purging-all-catalogs",level:2},{value:"Reasoning",id:"reasoning",level:2}],s={toc:u},p="wrapper";function g(e){let{components:t,...a}=e;return(0,o.kt)(p,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"catalog-purging"},"Catalog Purging"),(0,o.kt)("p",null,"Alto will not automatically purge your base catalog. You must explicitly tell Alto to purge the catalog. This is done by running the ",(0,o.kt)("inlineCode",{parentName:"p"},"alto clean catalog:{tap-name}")," command."),(0,o.kt)("p",null,"For example, if you have a tap named ",(0,o.kt)("inlineCode",{parentName:"p"},"my-tap")," and you want to purge the catalog for that tap, you would run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"alto clean catalog:my-tap\n")),(0,o.kt)("p",null,"This will delete the catalog file for the tap named ",(0,o.kt)("inlineCode",{parentName:"p"},"my-tap")," in the ",(0,o.kt)("inlineCode",{parentName:"p"},"catalogs")," directory of your remote storage."),(0,o.kt)("h2",{id:"purging-all-catalogs"},"Purging All Catalogs"),(0,o.kt)("p",null,"If you want to purge all catalogs, you can run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"alto clean catalog\n")),(0,o.kt)("admonition",{title:"Danger",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"This will delete all catalogs in the ",(0,o.kt)("inlineCode",{parentName:"p"},"catalogs")," directory of your remote storage. This may make subsequent runs of your pipelines slower. Generally, you should only purge the catalogs for the taps that you are actively working on.")),(0,o.kt)("h2",{id:"reasoning"},"Reasoning"),(0,o.kt)("p",null,"Alto does not automatically purge the catalog because it is a destructive operation. Our goal is to make the DX similar to tools like ",(0,o.kt)("inlineCode",{parentName:"p"},"terraform")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"dbt"),". In those tools, you must explicitly tell the tool to destroy something. Alto is no different. We want to make sure that you are aware of what you are doing when you purge the catalog. It is often done intentionally as part of a cycle where a source schema changes and you want to re-discover the new schema. In any other situation, we prefer explicitness over implicitness. That can simply mean a few extra keystrokes, but it is worth it to us."),(0,o.kt)("p",null,"This command would permit the user to run a pipeline with a fresh catalog and is not much added effort vs any automatic purging:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"alto clean catalog:my-tap ; alto my-tap:my-target\n")),(0,o.kt)("admonition",{title:"Tip",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},'This is all in relation to what we refer to as a "base" catalog. The "runtime" catalog is always rendered fresh and is not stored in the remote storage.')))}g.isMDXComponent=!0}}]);